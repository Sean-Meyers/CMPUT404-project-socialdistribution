(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{88162:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding",function(){return t(58279)}])},64645:function(e,r,t){"use strict";var l=t(28598);t(82684);let a=e=>{let{name:r,className:t,onClick:a}=e;return(0,l.jsx)("button",{type:"submit",onClick:a,className:"bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ".concat(t),children:r})};r.Z=a},76697:function(e,r,t){"use strict";var l=t(28598),a=t(82684);let s=e=>{let{id:r,filePreviewClass:t,register:s,required:o}=e,[d,i]=(0,a.useState)(null),[n,c]=(0,a.useState)(null),[u,x]=(0,a.useState)(null),m=s(r,{required:o});return(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-full mb-4",children:(0,l.jsxs)("label",{htmlFor:r,className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[!d&&(0,l.jsx)("svg",{"aria-hidden":"true",className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),!d&&(0,l.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),!d&&(0,l.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG(MAX. 800x400px)"}),d&&(0,l.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold",children:d.name})]}),(0,l.jsx)("input",{type:"file",className:"hidden",accept:"image/png, image/jpeg",...m,id:r,onChange:e=>{var r,t,l;if(m.onChange(e),i(null!==(l=null===(r=e.target.files)||void 0===r?void 0:r[0])&&void 0!==l?l:null),x(null),null===(t=e.target.files)||void 0===t?void 0:t[0]){let r=new FileReader;r.onloadend=()=>{c(r.result)},r.readAsDataURL(e.target.files[0])}}})]})}),(0,l.jsxs)("div",{className:"flex flex-col  w-fit h-full mb-6 bg-gray-50 p-7 rounded-xl shadow-sm border border-gray-100 ".concat(d?"":"hidden"),children:[(0,l.jsx)("span",{className:"block mb-5 text-sm font-medium text-gray-900 dark:text-white",children:"Preview"}),u&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:u}),n&&(0,l.jsx)("img",{src:n,className:t,alt:"Preview"})]})]})};r.Z=s},15307:function(e,r,t){"use strict";var l=t(28598);t(82684);let a=e=>{let{id:r,placeholder:t,extraClass:a,required:s,register:o}=e;return(0,l.jsxs)("div",{className:"".concat(a," flex"),children:[(0,l.jsx)("span",{className:"inline-flex items-center px-3 text-sm text-gray-600 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600",children:"https://github.com/"}),(0,l.jsx)("input",{...o(r,{required:s}),type:"text",id:r,className:"rounded-none rounded-r-lg bg-gray-50 border text-gray-900 focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm border-gray-300 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t})]})};r.Z=a},7099:function(e,r,t){"use strict";var l=t(28598);let a=e=>{let{id:r,name:t,placeholder:a,required:s,extraClass:o,register:d}=e;return(0,l.jsxs)("div",{className:"".concat(o),children:[(0,l.jsx)("label",{htmlFor:r,className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:t}),(0,l.jsx)("input",{type:"text",...d(r,{required:s}),className:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light",placeholder:a})]})};r.Z=a},58279:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return f}});var l=t(28598);t(82684);var a=t(7099),s=t(64645),o=t(1887),d=t.n(o),i=t(76697),n=t(15307),c=t(38884),u=t(75367),x=t(80018),m=t(16598),b=t(34376),g=t(48497);let h=e=>{let{}=e;(0,c.useSupabaseClient)();let r=(0,c.useUser)(),{register:t,handleSubmit:o,watch:h,formState:{errors:f}}=(0,u.cI)(),p=(0,b.useRouter)(),y=async e=>{e.profileImage=await (0,m.y)(e.profile[0]),e.id=null==r?void 0:r.id,e.github="https://github.com/"+e.github,delete e.profile,e.host=g.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000",e.url=g.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000/authors/"+(null==r?void 0:r.id),e.type="author";try{await x.Z.createAuthor(e),p.push("/")}catch(e){console.log(e)}};return(0,l.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,l.jsx)(d(),{children:(0,l.jsx)("title",{children:"Create Profile"})}),(0,l.jsx)("div",{className:"flex flex-1 overflow-hidden",children:(0,l.jsx)("div",{className:" overflow-y-auto w-full py-12",children:(0,l.jsxs)("form",{className:"max-w-5xl mx-auto px-8",onSubmit:o(y),children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-5",children:"Create Profile"}),(0,l.jsx)(a.Z,{register:t,extraClass:"mb-6",id:"displayName",name:"Display Name",placeholder:"John Doe",required:!0}),(0,l.jsx)("span",{className:"block mb-2 text-sm font-medium",children:"GitHub"}),(0,l.jsx)(n.Z,{register:t,extraClass:"mb-6",id:"github",placeholder:"github",required:!1}),(0,l.jsx)("span",{className:"block mb-2 text-sm font-medium",children:"Profile Picture"}),(0,l.jsx)(i.Z,{register:t,id:"profile",filePreviewClass:"w-44 h-44 object-cover rounded-full",required:!0}),(0,l.jsx)(s.Z,{name:"Create Profile",className:"text-white"})]})})})]})};var f=!0;r.default=h},16598:function(e,r,t){"use strict";function l(e){return new Promise((r,t)=>{let l=new FileReader;l.readAsDataURL(e),l.onload=()=>r(l.result),l.onerror=e=>t(e)})}t.d(r,{y:function(){return l}})}},function(e){e.O(0,[436,531,18,774,888,179],function(){return e(e.s=88162)}),_N_E=e.O()}]);