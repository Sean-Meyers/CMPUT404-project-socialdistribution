(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{35833:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authors/[author_id]",function(){return r(81268)}])},81360:function(e,t,r){"use strict";var s=r(28598),n=r(12691),l=r.n(n);r(82684);var o=r(7742),a=r(4832),i=r(50724),c=r(32893),u=r(28346),d=r(60865),h=r(38884),x=r(34376);let f=e=>{let{}=e,t=(0,h.useSupabaseClient)(),r=(0,x.useRouter)(),n=(0,h.useUser)();return n?(0,s.jsxs)("div",{className:"flex flex-col justify-between items-center w-16 h-screen border-r border-gray-100 ",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Home",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/authors/".concat(n.id,"/posts/create"),children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Create Post",children:(0,s.jsx)(a.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/posts/create"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/search",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Search",children:(0,s.jsx)(i.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/search"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/authors/".concat(n.id),children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Profile",children:(0,s.jsx)(c.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat(r.asPath.includes("/profile")?"text-gray-800":"")})})})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Logout",children:(0,s.jsx)(u.Z,{onClick:async()=>{console.log(await t.auth.signOut()),r.push("/")},className:"w-6 h-6 mx-auto mb-8 text-gray-500 hover:text-gray-700 cursor-pointer"})})})]}):null};t.Z=f},81268:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return j},default:function(){return y}});var s=r(28598),n=r(82684),l=r(64645),o=r(12691),a=r.n(o),i=r(81360),c=r(37926),u=r(38884),d=r(1887),h=r.n(d),x=r(47329),f=r.n(x);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var p=(0,n.forwardRef)(function(e,t){var r=e.color,s=e.size,l=void 0===s?24:s,o=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},l=Object.keys(e);for(s=0;s<l.length;s++)r=l[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,["color","size"]);return n.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),n.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});p.propTypes={color:f().string,size:f().oneOfType([f().string,f().number])},p.displayName="GitHub";var g=r(34376),v=r(80018);let w=e=>{let{author:{id:t,displayName:r,github:o,profileImage:d},author:x,posts:f,followStatus:m}=e;(0,u.useSupabaseClient)();let w=(0,u.useUser)(),[j,y]=(0,n.useState)(m),b=(0,g.useRouter)();return(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsx)(h(),{children:(0,s.jsx)("title",{children:"Author Profile"})}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("div",{className:"flex flex-1 flex-col overflow-y-auto w-full py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl w-full mx-auto px-8",children:[(0,s.jsxs)("div",{className:"flex flex-col border-b border-slate-200 pb-4",children:[(0,s.jsx)("img",{className:"rounded-full w-24 h-24 object-cover mb-3 ",src:d,width:100,height:100,alt:r}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)("div",{className:"text-xl font-medium",children:r}),(0,s.jsx)("div",{className:"flex flex-row space-x-3",children:t.includes((null==w?void 0:w.id)||"user")?(0,s.jsx)(l.Z,{name:"Edit Profile",onClick:()=>{let e=b.query.author_id;b.push("/authors/"+e+"/edit")},className:"bg-white text-gray-600 border-2 border-gray-100 hover:bg-gray-50 focus:ring-gray-100"}):(0,s.jsx)(l.Z,{onClick:async()=>{try{if("not_friends"===j){let e=await v.Z.getAuthor(t.split("/").pop()||""),r=await v.Z.getAuthor((null==w?void 0:w.id)||"");e&&r&&(await v.Z.sendFollowRequest(e,r),y("pending"))}else"friends"===j?(await v.Z.removeFollower(t.split("/").pop()||"",(null==w?void 0:w.id)||""),y("not_friends")):"true_friends"===j&&(await v.Z.removeFollower(t.split("/").pop()||"",(null==w?void 0:w.id)||""),y("not_friends"))}catch(e){console.log("error")}},name:"not_friends"===j?"Follow":"friends"===j?"Unfollow":"true_friends"===j?"Unfriend":"Pending",className:"text-white"})})]}),(0,s.jsx)("div",{className:"text-gray",children:(0,s.jsx)(a(),{href:o,children:(0,s.jsx)(p,{className:"inline-block w-5 h-5 text-gray-500 hover:text-gray-700"})})})]}),(0,s.jsx)("div",{className:"my-4",children:f.map(e=>(0,s.jsx)(c.default,{post:e},e.id))})]})})]})]})};var j=!0,y=w}},function(e){e.O(0,[434,436,531,632,604,18,926,774,888,179],function(){return e(e.s=35833)}),_N_E=e.O()}]);