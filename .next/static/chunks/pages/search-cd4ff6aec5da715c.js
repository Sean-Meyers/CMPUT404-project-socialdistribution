(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(20597)}])},81360:function(e,t,r){"use strict";var s=r(28598),a=r(12691),l=r.n(a);r(82684);var c=r(7742),o=r(4832),n=r(50724),i=r(32893),u=r(28346),d=r(60865),h=r(38884),x=r(34376);let m=e=>{let{}=e,t=(0,h.useSupabaseClient)(),r=(0,x.useRouter)(),a=(0,h.useUser)();return a?(0,s.jsxs)("div",{className:"flex flex-col justify-between items-center w-16 h-screen border-r border-gray-100 ",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Home",children:(0,s.jsx)(c.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/authors/".concat(a.id,"/posts/create"),children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Create Post",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/posts/create"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/search",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Search",children:(0,s.jsx)(n.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat("/search"===r.asPath?"text-gray-800":"")})})}),(0,s.jsx)(l(),{href:"/authors/".concat(a.id),children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Profile",children:(0,s.jsx)(i.Z,{className:"w-6 h-6 mx-auto mt-4 text-gray-500 hover:text-gray-700 ".concat(r.asPath.includes("/profile")?"text-gray-800":"")})})})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d.Tooltip,{placement:"right",content:"Logout",children:(0,s.jsx)(u.Z,{onClick:async()=>{console.log(await t.auth.signOut()),r.push("/")},className:"w-6 h-6 mx-auto mb-8 text-gray-500 hover:text-gray-700 cursor-pointer"})})})]}):null};t.Z=m},20597:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return g},default:function(){return f}});var s=r(28598),a=r(82684);let l=e=>{let{id:t,placeholder:r,register:a}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,s.jsx)("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,s.jsx)("input",{...a(t,{required:!0}),type:"search",id:t,className:"block w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:r}),(0,s.jsx)("button",{type:"submit",className:"text-white absolute right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Search"})]})};var c=r(38884),o=r(1887),n=r.n(o),i=r(81360),u=r(80018),d=r(75367),h=r(34376);let x=e=>{let{author:t}=e,r=(0,h.useRouter)(),a=()=>{if(t.id.startsWith("http")){let e=t.id.split("/").pop();r.push("/authors/".concat(e))}else r.push("/authors/".concat(t.id))};return(0,s.jsx)("div",{className:"hover:bg-gray-50 cursor-pointer",onClick:a,children:(0,s.jsxs)("div",{className:"flex flex-row items-center border p-3 w-full space-x-3 rounded-lg",children:[(0,s.jsx)("img",{src:t.profileImage,alt:t.displayName,className:"w-20 h-20 rounded-full"}),(0,s.jsx)("div",{className:"text-lg font-medium",children:t.displayName})]})})},m=e=>{let{}=e;(0,c.useSupabaseClient)();let[t,r]=a.useState(!1);(0,c.useUser)();let[o,h]=a.useState([]),{register:m,handleSubmit:g}=(0,d.cI)(),f=async e=>{let t=await u.Z.getAuthors(void 0,void 0,void 0,e.search);h(t.items),r(!0)};return(0,s.jsx)("div",{className:"mb-8 ",children:(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"Stream"})}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)(i.Z,{}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto w-full py-12",children:[(0,s.jsxs)("div",{className:"w-full mx-auto bg-white px-6 max-w-5xl",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-5",children:"Search"}),(0,s.jsx)("form",{onSubmit:g(f),children:(0,s.jsx)(l,{id:"search",register:m,placeholder:"Search for a user..."})})]}),(0,s.jsxs)("div",{className:"w-full mx-auto bg-white px-6 max-w-5xl space-y-1 mt-3",children:[o.map(e=>(0,s.jsx)(x,{author:e},e.id)),0===o.length&&t&&(0,s.jsx)("p",{className:"text-center text-gray-500 mt-5 sm:text-xl text-lg",children:"No results found"})]})]})]})]})})};var g=!0,f=m}},function(e){e.O(0,[434,436,531,632,18,774,888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);